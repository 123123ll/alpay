<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Easy-Pay</title>
    <link rel="stylesheet" th:href="@{../layui/css/layui.css}" media="all" />
    <script th:src="@{../layui/layui.js}"></script>
    <script th:src="@{../jquery.min.js}"></script>
    <style>
        span {
            word-break: normal;
            width: auto;
            display: block;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow: hidden;
        }
        b {
            color: yellowgreen;
        }
    </style>
</head>
<body class="layui-layout-body">
    <div style="padding: 15px;">
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
            <legend>支付宝PC端支付</legend>
        </fieldset>
        <div class="layui-form-item">
            <label class="layui-form-label">商户订单号</label>
            <div class="layui-input-block">
                <input type="text" id="oriderId" lay-verify="title" autocomplete="off" placeholder="请输入商户订单号(不填自动生成)" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">订单标题</label>
            <div class="layui-input-block">
                <input type="text" id="title" placeholder="请输入订单标题" autocomplete="off" class="layui-input" value="支付宝二维码支付测试" disabled>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">订单标题</label>
            <div class="layui-input-block">
                <input type="text" id="descript" placeholder="请输入订单描述" autocomplete="off" class="layui-input" value="这是订单描述" disabled>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">订单金额</label>
            <div class="layui-input-block">
                <input type="text" id="price" placeholder="请输入订单金额" autocomplete="off" class="layui-input" value="0.01" disabled>
            </div>
        </div>
        <div class="layui-form-item">
            <button class="layui-btn layui-btn-normal" onclick="pay()">立即支付</button>
        </div>

    </div>

<script>
    function pay() {

        var oriderId = $("#oriderId").val();
        if (oriderId == null || oriderId == '') {
            alert("订单号不能为空")
            return
        }
        var title = $("#title").val();
        var price = $("#price").val();
        var descript = $("#descript").val();

        window.parent.location.href="http://127.0.0.1:9999/alipay/pcpay?totalAmount="+price+"&subject="+title+"&outTradeNo="+oriderId+"&body="+descript;
    }
</script>
</body>
</html>